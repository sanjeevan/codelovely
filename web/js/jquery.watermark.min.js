/*
	Watermark v3.0.2 (November 11, 2009) plugin for jQuery
	http://jquery-watermark.googlecode.com/
	Copyright (c) 2009 Todd Northrop
	http://www.speednet.biz/
	Licensed under GPL 3, see  <http://www.gnu.org/licenses/>
*/
(function(a){var j="function",i="password",c="maxLength",e="type",b=true,d=false,s="watermark",t,l=s,h="watermarkClass",p="watermarkFocus",n="watermarkSubmit",k="watermarkMaxLength",g="watermarkPassword",f="watermarkText",r=":data("+l+")",m=":text,:password,:search,textarea",o=["Page_ClientValidate"],q=d;a.extend(a.expr[":"],{data:function(f,h,g){var e,c=/^((?:[^=!^$*]|[!^$*](?!=))+)(?:([!^$*]?=)(.*))?$/.exec(g[3]);if(c){e=a(f).data(c[1]);if(e!==t){if(c[2]){e=""+e;switch(c[2]){case "=":return e==c[3];case "!=":return e!=c[3];case "^=":return e.slice(0,c[3].length)==c[3];case "$=":return e.slice(-c[3].length)==c[3];case "*=":return e.indexOf(c[3])!==-1}}return b}}return d}});a.watermark={version:"3.0.2",options:{className:s,useNative:b},hide:function(b){a(b).filter(r).each(function(){a.watermark._hide(a(this))})},_hide:function(a,i){if(a.val()==a.data(f)){a.val("");if(a.data(g))if(a.attr(e)==="text"){var d=a.data(g),b=a.parent();b[0].removeChild(a[0]);b[0].appendChild(d[0]);a=d}if(a.data(k)){a.attr(c,a.data(k));a.removeData(k)}if(i){a.attr("autocomplete","off");window.setTimeout(function(){a.select()},0)}}a.removeClass(a.data(h))},show:function(b){a(b).filter(r).each(function(){a.watermark._show(a(this))})},_show:function(d){var r=d.val(),j=d.data(f),m=d.attr(e);if((r.length==0||r==j)&&!d.data(p)){q=b;if(d.data(g))if(m===i){var o=d.data(g),n=d.parent();n[0].removeChild(d[0]);n[0].appendChild(o[0]);d=o;d.attr(c,j.length)}if(m==="text"||m==="search"){var l=d.attr(c);if(l>0&&j.length>l){d.data(k,l);d.attr(c,j.length)}}d.addClass(d.data(h));d.val(j)}else a.watermark._hide(d)},hideAll:function(){if(q){a.watermark.hide(m);q=d}},showAll:function(){a.watermark.show(m)}};a.fn.watermark=function(q,k){var o="string",s=typeof q===o,r;if(typeof k==="object"){r=typeof k.className===o;k=a.extend({},a.watermark.options,k)}else if(typeof k===o){r=b;k=a.extend({},a.watermark.options,{className:k})}else k=a.watermark.options;if(typeof k.useNative!==j)k.useNative=k.useNative?function(){return b}:function(){return d};return this.each(function(){var t="dragleave",o="dragenter",u=this,d=a(u);if(!d.is(m))return;if(d.data(l)){if(s||r){a.watermark._hide(d);s&&d.data(f,q);r&&d.data(h,k.className)}}else{if(k.useNative.call(u,d))if((""+d.css("-webkit-appearance")).replace("undefined","")!==""&&d.attr("tagName")!=="TEXTAREA"){s&&d.attr("placeholder",q);return}d.data(f,s?q:"");d.data(h,k.className);d.data(l,1);if(d.attr(e)===i){var w=d.wrap("<span>").parent(),j=a(w.html().replace(/type=["']?password["']?/i,'type="text"'));j.data(f,d.data(f));j.data(h,d.data(h));j.data(l,1);j.attr(c,q.length);j.focus(function(){a.watermark._hide(j,b)}).bind(o,function(){a.watermark._hide(j)}).bind("dragend",function(){window.setTimeout(function(){j.blur()},1)});d.blur(function(){a.watermark._show(d)}).bind(t,function(){a.watermark._show(d)});j.data(g,d);d.data(g,j)}else d.focus(function(){d.data(p,1);a.watermark._hide(d,b)}).blur(function(){d.data(p,0);a.watermark._show(d)}).bind(o,function(){a.watermark._hide(d)}).bind(t,function(){a.watermark._show(d)}).bind("dragend",function(){window.setTimeout(function(){a.watermark._show(d)},1)}).bind("drop",function(b){var a=b.originalEvent.dataTransfer.getData("Text");d.val().replace(a,"")===d.data(f)&&d.val(a);d.focus()});if(u.form){var v=a(u.form);if(!v.data(n)){v.data(n,u.form.submit);v.submit(a.watermark.hideAll);u.form.submit=function(){var b=v.data(n);a.watermark.hideAll();if(b.apply)b.apply(v[0],arguments);else b()}}}}a.watermark._show(d)}).end()};o.length&&a(function(){for(var b,c,d=o.length-1;d>=0;d--){b=o[d];c=window[b];if(typeof c===j)window[b]=function(b){return function(){a.watermark.hideAll();b()}}(c)}})})(jQuery);